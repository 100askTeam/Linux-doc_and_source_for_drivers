/*! IOL Analytics 1.3.04 2021-05-25 */
"undefined"==typeof IOL&&(IOL={}),IOL.objectExtend=function(a,b){for(var c in b)"undefined"!=typeof b[c]&&(a[c]=b[c]);return a},IOL.objectExtendRecursive=function(a,b){for(var c in b)"undefined"!=typeof b[c]&&(b[c]instanceof Object?a[c]=IOL.objectExtendRecursive(a[c],b[c]):a[c]=b[c]);return a},IOL.Class={create:function(){return function(){this.initialize.apply(this,arguments)}}},"undefined"==typeof IOL.Analytics&&(IOL.Analytics={Tracking:{Engine:IOL.Class.create()},Utils:{}}),IOL.Analytics.Tracking.Engine.version="1.3.04",IOL.Analytics.Tracking.Engine.prototype={version:IOL.Analytics.Tracking.Engine.version,initialize:function(){"prod"!==IOL.Analytics.Utils.getEnvironmentLevel()&&(this._test=!0,this._debug=!0);var a={debug:this._debug,test:this._test,debugCookieName:"IAT-Debug",engine:"webtrekk",plugins:{},triggerEvents:!0,addHostToPageName:!1,checkMultipleCalls:0,rules:{},driverConf:{optimizeTrackingParams:!0,searchParamsToRemove:[]},customParams:{},callDirectly:!0,cgiApiParamsPrefix:"iat_",adBlockCheck:!1};try{"object"==typeof iol_analytics_tracking_conf&&(a=IOL.objectExtend(a,iol_analytics_tracking_conf))}catch(a){}this.params=IOL.objectExtend(a,arguments[0]),this.params.engine=this.checkEngineValue(this.params.engine),/^(\d+)$/.test(IOL.Analytics.Utils.getCookie(this.params.debugCookieName))&&(this.params.debug=parseInt(RegExp.$1,10)),"undefined"==typeof console&&(this.params.debug=0),this._log_prefix="[IAT] ",this._event_ns="iat-",this._browser=IOL.Analytics.Utils.browser(),this.params.debug&&this.log("Init engine ("+this.version+")");for(var b in IOL.Analytics.Tracking.Engine.Plugins._plugins)IOL.Analytics.Tracking.Engine.Plugins._plugins.hasOwnProperty(b)&&"function"==typeof IOL.Analytics.Tracking.Engine.Plugins._plugins[b].init_handler&&IOL.Analytics.Tracking.Engine.Plugins._plugins[b].init_handler(this,{debug:this.params.debug});this._pagenames={},"undefined"==typeof document.createEvent&&(this.params.triggerEvents=!1),this.params.triggerEvents&&IOL.Analytics.Utils.triggerEvent(this._event_ns+"init",{context:this});for(var c=new IOL.Analytics.Utils.CGI(document.location.href),d={},e=["ajax","url","path","cookie","search","ajax","hash","referrer"],f=0,g=e.length;f<g;f++)"undefined"!=typeof c[this.params.cgiApiParamsPrefix+e[f]]&&(d[e[f]]=c[this.params.cgiApiParamsPrefix+e[f]]);IOL.Analytics.Utils.getObjectKeys({obj:d}).length>0&&(d.debug=c.iat_debug,d.test=c.iat_test,d.https=c.iat_https,d.charset=c.iat_charset,d.title=c.iat_title,d.debug&&this.log(d),this.send(d))},send:function(){var a=IOL.objectExtend({debug:this.params.debug,test:this.params.test,engine:this.params.engine,rules:this.params.rules,checkMultipleCalls:this.params.checkMultipleCalls,addHostToPageName:this.params.addHostToPageName,triggerEvents:this.params.triggerEvents,customParams:this.params.customParams,driverConf:this.params.driverConf,callDirectly:this.params.callDirectly,adBlockCheck:!0,callJS:!1,ajax:void 0,url:document.location.href,path:document.location.pathname,cookie:document.cookie,search:document.location.search,hash:document.location.hash,referrer:document.referrer,https:!0,onLoadHandler:void 0,timeout:2,addTimestampToUrl:!0,cahePageName:!1,skipPageName:!1,profile:!0,title:document.title,charset:document.characterSet||document.charset||document.defaultCharset,vportal:!1,eventType:"pageview",eventName:void 0,eventParams:{},optimizeTrackingParams:!0},arguments[0]);a.engine=this.checkEngineValue(a.engine);var b=this.getPageName({rules:a.rules,ajax:a.ajax,url:a.url,path:a.path,cookie:a.cookie,search:a.search,hash:a.hash,referrer:a.referrer,debug:a.debug,test:a.test,cachePageName:a.cachePageName,skipPageName:a.skipPageName,engine:a.engine});if("undefined"!=typeof b&&"object"==typeof b){var c;"undefined"==typeof a.referrer||/^\s*$/.test(a.referrer)||/^https?:\/\//.test(a.referrer)||(a.referrer="http://"+a.referrer);var d={ajax:a.ajax,url:a.url,path:a.path,cookie:a.cookie,search:a.search,hash:a.hash,referrer:a.referrer,title:a.title,https:a.https,charset:a.charset,fup:void 0,engine_version:this.version,customParams:a.customParams,driverConf:a.driverConf,eventType:a.eventType,eventName:a.eventName,eventParams:a.eventParams,optimizeTrackingParams:a.optimizeTrackingParams};if(a.skipPageName===!1&&"undefined"!=typeof a.rules.version&&(d.site_rules_version=a.rules.version),a.profile&&"function"==typeof getFup){var e=getFup();"object"==typeof e&&(a.debug&&this.log("FUP object ok",e,IOLOBJ),"object"==typeof e.ext&&/^\d+$/.test(e.ext.uos)&&/^\d+$/.test(e.ext.uab)&&(e._wn="u"+(parseInt(e.ext.uab,10)+1800+1999)+"z"+(122==e.ext.uos?1:133==e.ext.uos?2:0)),d.fup=e)}if(a.triggerEvents&&IOL.Analytics.Utils.triggerEvent("iat-send-before",{pageName:b,data:d}),a.callDirectly){this._trackingRequest={};for(var f in a.engine)if(a.engine.hasOwnProperty(f)&&(a.engine[f]instanceof Object||"object"==typeof a.engine[f])&&!0===a.engine[f].send&&"function"==typeof IOL.Analytics.Tracking.Engine.Plugins._plugins[f].url_handler){try{this._trackingRequest[f]=IOL.Analytics.Tracking.Engine.Plugins._plugins[f].url_handler(this,{debug:a.debug,pageName:b.pn,data:d,config:a.engine[f]})}catch(b){a.debug&&this.log(b)}IOL.Analytics.Utils.trackingPixel({url:this._trackingRequest[f],onLoadHandler:a.onLoadHandler,triggerEvents:a.triggerEvents,debug:a.debug,addTimestampToUrl:!1}),this._browser.msie&&this._browser.version<10&&(a.adBlockCheck=!1),a.adBlockCheck&&IOL.Analytics.Tracking.Engine.Plugins._plugins[f].params.adBlockCheck&&(this.params.adBlockCheck||b.adblock)&&(c={},c[f]=a.engine[f],this.adBlockCheck({sendTracking:!0,engine:c,debug:a.debug}))}}else for(var f in a.engine)a.engine.hasOwnProperty(f)&&(a.engine[f]instanceof Object||"object"==typeof a.engine[f])&&!0===a.engine[f].send&&"function"==typeof IOL.Analytics.Tracking.Engine.Plugins._plugins[f].send_handler&&IOL.Analytics.Tracking.Engine.Plugins._plugins[f].send_handler(this,{pageName:b.pn,data:d,config:a.engine[f]});if(b.cb)try{window[b.cb](b.pn)}catch(b){a.debug&&this.log(b)}a.triggerEvents&&IOL.Analytics.Utils.triggerEvent("iat-send-after",{pageName:b})}},getPageName:function(){var a,b,c=IOL.objectExtend({debug:this.params.debug,test:this.params.test,rules:this.params.rules,addHostToPageName:this.params.addHostToPageName,engine:this.params.engine,ajax:void 0,url:document.location.href,path:document.location.pathname,cookie:document.cookie,search:document.location.search,hash:document.location.hash,cachePageName:!1,skipPageName:!1},arguments[0]),d=IOL.Analytics.Utils.getObjectKeys({obj:this.checkEngineValue(c.engine)}).join("-");if(c.skipPageName===!1){if(c.debug&&this.log("Computing page name","groupCollapsed"),c.cachePageName&&"undefined"!=typeof this._pagenames[d])a=this._pagenames[d],c.debug&&this.log("Getting page name from cache: "+a);else{if("undefined"==typeof c.rules||"object"!=typeof c.rules.pn&&"object"!=typeof c.rules.cn)return c.debug&&this.log("Undefined 'rules'"),void this.log(null,"groupEnd");var e=c.rules.defaultPn?"pn":"cn";a={pn:c.rules.defaultPn||c.rules.defaultCn},b=null;for(var f=0,g=c.rules[e].length;f<g;f++){var h=0;c.debug&&this.log(c.rules[e][f].n,c.rules[e][f]);var i;try{i=new RegExp(c.rules[e][f].v)}catch(a){c.debug&&this.log(a);continue}c.debug&&this.log("Matching "+c.rules[e][f].t+" "+c.rules[e][f].v);var j;if("js"===c.rules[e][f].t)try{j=IOL.Analytics.Utils.eval({expr:c.rules[e][f].id})}catch(a){c.debug&&this.log(a);continue}else if("dom"===c.rules[e][f].t)try{j=document.getElementById(c.rules[e][f].id).innerHTML}catch(a){c.debug&&this.log(a);continue}else j=c[c.rules[e][f].t];if(null===j||/^\s*$/.test(j))c.debug&&this.log("Skipped null value");else{var k=i.exec(j);if(k){c.debug&&this.log("FOUND ("+c[c.rules[e][f].t]+" =~ "+i+")"),h=1,a.pn=c.rules[e][f].n,k.length>0&&(a.pn=a.pn.replace(/\$(\d+)/g,function(a,b){return"undefined"==typeof k[b]?"":k[b]})),"function"==typeof window[c.rules[e][f].c]&&(b=c.rules[e][f].c,c.debug&&this.log("CALLBACK: "+b)),a.adblock=c.rules[e][f].adblock;break}}}c.addHostToPageName&&(a.pn+="."+document.location.hostname.replace(/\./g,"_")),b&&(a.cb=b),this._pagenames[d]=a}c.debug&&(this.log("The winner is: "+a.pn),this.log(null,"groupEnd"))}return a},log:function(a,b){IOL.Analytics.Utils.log(a,{prefix:this._log_prefix,level:b})},checkEngineValue:function(a){var b={};if("string"==typeof a&&/^[\w\-]+$/i.test(a))b[a]={send:!0};else if(a instanceof Array&&a.length>0)for(var c=0,d=a.length;c<d;c++)b[a[c]]={send:!0};else{if(a instanceof Object||"object"==typeof a)return a;b={default:{send:!0}}}return b},adBlockCheck:function(){var a=IOL.objectExtend({debug:0,id:"ad-block-check",iframeFriendlyCheck:!0,iframeFriendlyJsSrc:"//i.plug.it/iplug/js/lib/iol/analytics/ads/adv/_ads.js",iframeFriendlyJsObjectName:"IOL_Adv_check",iframeFriendlyTimeout:0,iframeFriendlyRemove:!1,iframeCheck:!1,iframeSrc:"//i.plug.it/iplug/js/lib/iol/analytics/ads/adv/_ads.html",iframeTimeout:0,objectCheck:!1,objectName:"iol_adblock_check",objectTimeout:0,googletagCheck:!0,googletagTimeout:3e3,sendTracking:!1,triggerEvents:!0,iatObjectName:"iat",engine:this.params.engine},arguments[0]),b=this;if(a.engine=this.checkEngineValue(a.engine),a.iframeFriendlyCheck===!0&&setTimeout(function(){a.debug&&b.log(["adBlockCheck (iframeFriendlyCheck)",a.engine]);try{var c=document.createElement("iframe"),d=a.id+"_friendly",e=document.getElementById(d);e&&(a.iframeFriendlyRemove?e.parentNode.removeChild(e):d+="-"+ +new Date),c.height="1px",c.width="1px",c.frameBorder="0px",c.id=d,document.body.appendChild(c),e=document.getElementById(d),IOL.Analytics.Utils.loadJS({src:a.iframeFriendlyJsSrc+(/\?/.test(a.iframeFriendlyJsSrc)?"&":"?")+"_t="+ +new Date,document:e.contentWindow.document,async:!1,write:!0,writeOpen:!0,writeClose:!1,id:"advlibrary"}),IOL.Analytics.Utils.loadJS({text:"if ( typeof("+a.iframeFriendlyJsObjectName+') === "undefined" ) {\ttry {'+(a.triggerEvents?"window.parent.IOL.Analytics.Utils.triggerEvent( 'iat-adblockcheck', { type: 4, check: 'iframeFriendly' } );":"")+(a.sendTracking?"window.parent."+a.iatObjectName+".send({ eventType: 'event', eventName: 'adblock', eventParams: { 1: 4 }, cachePageName: true, adBlockCheck: false, engine: "+JSON.stringify(a.engine)+" });":"")+"\t/*console.log(window."+a.iframeFriendlyJsObjectName+',"AdBlock TRUE")*/ \t}\tcatch (e) {}} else {\t/*console.log(window.'+a.iframeFriendlyJsObjectName+', "AdBlock FALSE")*/ }',document:e.contentWindow.document,async:!1,write:!0,writeOpen:!1,writeClose:!0})}catch(a){}},a.iframeFriendlyTimeout),a.objectCheck===!0&&setTimeout(function(){a.debug&&b.log(["adBlockCheck (objectCheck)",a.engine]);try{window[a.objectName]||(a.sendTracking&&b.send({eventType:"event",eventName:"adblock",eventParams:{1:3},cachePageName:!0,adBlockCheck:!1,engine:a.engine}),a.triggerEvents&&IOL.Analytics.Utils.triggerEvent("iat-adblockcheck",{type:3,check:"object"}))}catch(c){a.sendTracking&&b.send({eventType:"event",eventName:"adblock",eventParams:{1:3},cachePageName:!0,adBlockCheck:!1,engine:a.engine}),a.triggerEvents&&IOL.Analytics.Utils.triggerEvent("iat-adblockcheck",{type:3,check:"object"})}},a.objectTimeout),a.iframeCheck===!0){a.debug&&b.log(["adBlockCheck (iframeCheck)",a.engine]);try{var c=document.createElement("iframe");c.height="1px",c.width="1px",c.frameBorder="0px",c.id=a.id,c.src=a.iframeSrc+(/\?/.test(a.iframeSrc)?"&":"?")+"_t="+ +new Date,document.body.appendChild(c),setTimeout(function(){var c=document.getElementById(a.id);if(/\b(none|hidden)\b/i.test(c.style.display)||"hidden"===c.style.visibility||0===c.offsetHeight)a.sendTracking&&b.send({eventType:"event",eventName:"adblock",eventParams:{1:1},cachePageName:!0,adBlockCheck:!1,engine:a.engine}),a.triggerEvents&&IOL.Analytics.Utils.triggerEvent("iat-adblockcheck",{type:1,check:"iframe"});else if(a.googletagCheck){var d=!1;setTimeout(function(){"undefined"!=typeof window.googletag?"function"!=typeof window.googletag.pubads&&(d=!0):d=!0,d&&(a.sendTracking&&b.send({eventType:"event",eventName:"adblock",eventParams:{1:2},cachePageName:!0,adBlockCheck:!1,engine:a.engine}),a.triggerEvents&&IOL.Analytics.Utils.triggerEvent("iat-adblockcheck",{type:2,check:"iframe"}))},a.googletagTimeout)}c.parentNode.removeChild(c)},a.iframeTimeout)}catch(a){}}}},IOL.Analytics.Tracking.Engine.Plugins={_plugins:{}},IOL.Analytics.Tracking.Engine.Plugins.WebTrekk=IOL.Class.create(),IOL.Analytics.Tracking.Engine.Plugins.WebTrekk.prototype={name:"webtrekk",initialize:function(){var a=IOL.objectExtend({debug:!1,trackDomain:"italiaonline01.wt-eu02.net",trackId:"215973748390194",sandboxTrackId:"978626416445858",adBlockCheck:!0},arguments[0]);this.params=a},init_handler:function(a,b){b=IOL.objectExtend({debug:!1},b||{}),b.debug&&a.log([this.name,"init_handler",a,b])},url_handler:function(a,b){b=IOL.objectExtend({debug:!1,data:{},config:{}},b||{}),b.config=IOL.objectExtend({trackDomain:this.params.trackDomain,trackId:this.params.trackId,sandboxTrackId:this.params.sandboxTrackId},b.config),b.data._browser=a._browser;var c,d=a.params.test?b.config.sandboxTrackId:b.config.trackId,e="http"+(b.data.https?"s":"")+"://"+b.config.trackDomain+"/"+d+"/wt?p=",f=new Date;if(c=[433,IOL.Analytics.Utils.escape(b.pageName),1,screen.width+"x"+screen.height,screen.colorDepth,navigator.cookieEnabled?1:0,f.getTime(),b.data.referrer?IOL.Analytics.Utils.escape(b.data.referrer):0,IOL.Analytics.Utils.windowSize().join("x"),navigator.javaEnabled()?1:0],e+=c.join(","),b.debug&&a.log([this.name,"url_handler",e,c,a,b]),e+="&pu="+IOL.Analytics.Utils.escape(b.data.url)+"&la="+IOL.Analytics.Utils.escape(a._browser.userLanguage.substring(0,2))+"&tz="+Math.round(-1*f.getTimezoneOffset()/60),a._browser.safari||a._browser.mobileSafari||b.data.driverConf.firstPartyCookie){var g="iat_uid",h=IOL.Analytics.Utils.getCookie(g);"undefined"==typeof h?(h=4+IOL.Analytics.Utils.uniqueId(),e+="&one=1"):e+="&one=0",IOL.Analytics.Utils.setCookie({name:g,value:h,date:{day:90},path:"/",debug:b.debug}),e+="&eid="+IOL.Analytics.Utils.escape(h)}var i=this.contentGroups(b.pageName);if(e+=IOL.Analytics.Utils.buildQueryStringFromObject({obj:i,prefix:"cg"}),b.data.cp3=b.data.url,b.data.driverConf.optimizeTrackingParams){var j=["ret_url","nocache","nc"],k={};if("undefined"!=typeof b.data.driverConf.searchParamsToRemove&&b.data.driverConf.searchParamsToRemove.constructor===Array){for(var l=0,m=b.data.driverConf.searchParamsToRemove.length;l<m;l++)"undefined"!=typeof b.data.driverConf.searchParamsToRemove[l].name&&(k[b.data.driverConf.searchParamsToRemove[l].name]=b.data.driverConf.searchParamsToRemove[l].map);j.push.apply(j,IOL.Analytics.Utils.getObjectKeys({obj:k}))}var n=IOL.Analytics.Utils.cleanURL({url:b.data.url,searchParamsToRemove:j,sortSearch:!0});b.data.cp3=n.url;var o={};for(var p in n.removedSearchParams)n.removedSearchParams.hasOwnProperty(p)&&"undefined"!=typeof n.removedSearchParams[p]&&"undefined"!=typeof k[p]&&("undefined"==typeof o[k[p]]&&(o[k[p]]=""),o[k[p]]+=n.removedSearchParams[p]+" ");e+=IOL.Analytics.Utils.buildQueryStringFromObject({obj:o,prefix:""})}var q=this.customParams(b.data);return e+=IOL.Analytics.Utils.buildQueryStringFromObject({obj:q,prefix:"cp"}),"event"===b.data.eventType&&"undefined"!=typeof b.data.eventName&&(e+="&ct="+IOL.Analytics.Utils.escape(b.data.eventName),e+=IOL.Analytics.Utils.buildQueryStringFromObject({obj:b.data.eventParams,prefix:"ck"})),e},send_handler:function(a,b){b=IOL.objectExtend({debug:!1},b||{}),b.debug&&a.log(this.name,"send_handler",a,b)},contentGroups:function(a){if("string"!=typeof a)return{};for(var b={},c=a.split(/\./),d=0,e=c.length;d<e&&!(d>5);d++)b[d+1]=c[d];return b[7]=a,b},customParams:function(){var a=IOL.objectExtend({debug:!1,customParams:{},optimizeTrackingParams:!1,driverConf:{optimizeTrackingParams:!0}},arguments[0]||{}),b=IOL.Analytics.Utils.URL(a.url)||{},c="web";switch(!0){case a._browser.isMobile:c="mobile";break;case a._browser.isTablet:c="tablet"}for(var d="no-refresh",e=new IOL.Analytics.Utils.CGI(a.url),f=["refresh_ce","refresh_cens","refresh_ce-awe"],g=0,h=f.length;g<h;g++)if(e.hasOwnProperty(f[g])){d=f[g];break}var i=IOL.objectExtend(a.customParams,{1:a.referrer?IOL.Analytics.Utils.URL(a.referrer).hostname:"no-referrer",2:a.referrer?a.driverConf.optimizeTrackingParams?IOL.Analytics.Utils.cleanURL({url:a.referrer,search:!1,hash:!1}).url:a.referrer:"no-referrer",3:void 0,4:d,5:a.customParams[5],6:a.customParams[6],7:a.charset.toLowerCase(),8:a.customParams[8],9:a.engine_version,10:a.site_rules_version,11:a.title,12:c,13:"undefined"!=typeof a.customParams[13]?a.customParams[13]:"object"==typeof iol_adv_config&&iol_adv_config.doc_id?iol_adv_config.doc_id:void 0,14:"undefined"!=typeof a.customParams[14]?a.customParams[14]:"object"==typeof iol_adv_config&&iol_adv_config.page_type?iol_adv_config.page_type:void 0,24:"undefined"!=typeof a.customParams[24]?a.customParams[24]:"object"==typeof iol_adv_config&&iol_adv_config.section?iol_adv_config.section:void 0,25:b.protocol,26:b.hostname,27:a.driverConf.optimizeTrackingParams?void 0:b.pathname,28:a.driverConf.optimizeTrackingParams?void 0:b.search,29:a.driverConf.optimizeTrackingParams?void 0:b.hash,103:a.url});return"object"==typeof a.fup&&(i[30]=a.fup._wn,i[35]=a.fup.sse,i[36]=a.fup.sfe,i[37]=a.fup.spr,i[38]=a.fup.gic,i[39]=a.fup.gip,i[40]=a.fup.gis,i[41]=a.fup.gcrl,i[42]=a.fup.lip,i[43]=a.fup.lic,i[44]=a.fup.lir),i}},IOL.Analytics.Tracking.Engine.Plugins.Comscore=IOL.Class.create(),IOL.Analytics.Tracking.Engine.Plugins.Comscore.prototype={name:"comscore",initialize:function(a){a=IOL.objectExtend({debug:!1,c1:"2",c2:"33012141",c2_test:"33012141",cv:void 0,adBlockCheck:!1},a),this.params=a},init_handler:function(a,b){b=IOL.objectExtend({debug:!1},b||{}),b.debug&&a.log([this.name,"init_handler",a,b])},url_handler:function(a,b){b=IOL.objectExtend({debug:!1,data:{}},b||{}),b.data._browser=a._browser;var c,d=(b.data.https?"https://sb":"http://b")+".scorecardresearch.com/b?",e=a.params.test?this.params.c2:this.params.c2_test;return c={c1:this.params.c1,c2:e,cs_ucfr:void 0===IOL.Analytics.Utils.getCookie("policy_cookie")?null:1,ns__t:+new Date,ns_c:b.data.charset,cv:this.params.cv,c7:b.data.url,c8:b.data.title,c9:b.data.referrer?IOL.Analytics.Utils.URL(b.data.referrer).hostname:null},b.debug&&a.log(this.name,"url_handler",d,c,a,b),d+IOL.Analytics.Utils.buildQueryStringFromObject({obj:c,prefix:"",strip_ampersand:!0})},send_handler:function(a,b){b=IOL.objectExtend({debug:!1},b||{}),b.debug&&a.log(this.name,"send_handler",a,b)}},IOL.Analytics.Tracking.Engine.Plugins.PageScroll=IOL.Class.create(),IOL.Analytics.Tracking.Engine.Plugins.PageScroll.prototype={name:"pagescroll",initialize:function(){var a=IOL.objectExtend({debug:!1,intervals:4,sendTracking:!0},arguments[0]);this.params=a,this.scrollPosition=IOL.Analytics.Utils.getScrollPosition(),this.ymax=window.innerHeight+window.scrollMaxY||self.innerHeight+self.scrollMaxY||document.documentElement&&document.documentElement.scrollHeight||document.body.offsetHeight,this.current_interval=1,this.y=window.scrollY||self.scrollY||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop},init_handler:function(a,b){b=IOL.objectExtend({debug:this.params.debug,addListener:a.params.pageScroll,intervals:this.params.intervals,sendTracking:this.params.sendTracking},b||{}),b.debug&&a.log([this.name,"init_handler",a,b]);var c=this;b.addListener&&!this._added_listener&&(window.addEventListener("scroll",function(){var d=IOL.Analytics.Utils.getScrollPosition();if(d>c.scrollPosition&&(c.scrollPosition=d,d>=Math.round(c.ymax/b.intervals*c.current_interval))){var e=Math.round(100/b.intervals*c.current_interval);b.sendTracking&&a.send({eventType:"event",eventName:"pagescroll",eventParams:{540:e},cachePageName:!0,adBlockCheck:!1}),c.current_interval++}}),this._added_listener=!0)}},IOL.Analytics.Tracking.Engine.Plugins.Evnt=IOL.Class.create(),IOL.Analytics.Tracking.Engine.Plugins.Evnt.prototype={name:"evnt",initialize:function(){var a=IOL.objectExtend({debug:!1,view_selector:"[data-evnt-view]",click_selector:"[data-evnt-click]",offset:0,polling:1e3,data:{},log_prefix:"[IAT-EVNT]",debugCookieName:"IAT-EVNT-Debug"},arguments[0]);this.params=a;try{"object"==typeof iol_analytics_tracking_conf.rtv.evnt&&(this.params.data=IOL.objectExtend(this.params.data,iol_analytics_tracking_conf.rtv.evnt.data),"object"==typeof iol_analytics_tracking_conf.rtv.evnt.options&&(this.params.polling=iol_analytics_tracking_conf.rtv.evnt.options.polling,this.params.offset=iol_analytics_tracking_conf.rtv.evnt.options.offset))}catch(a){}},init_handler:function(a,b){if(b=IOL.objectExtend({debug:!1},b||{}),b.debug&&a.log([this.name,"init_handler",a,b]),"undefined"==typeof IOL.EVNT)return b.debug&&a.log([this.name,"init_handler","IOL.EVNT not found"]),void(this.evnt=!1);/^(\d+)$/.test(IOL.Analytics.Utils.getCookie(this.params.debugCookieName))&&(this.params.debug=parseInt(RegExp.$1,10));var c={offset:this.params.offset,polling:this.params.polling,debug:this.params.debug};IOL.Analytics.Utils.triggerEvent("iat-evnt-init",{data:this.params.data,options:c}),"object"==typeof c&&(this.params.polling=c.polling,this.params.offset=c.offset,this.params.debug=c.debug),IOL.Analytics.Utils.isObjectEmpty(this.params.data)||(this.evnt=new IOL.EVNT.evMngrCls,this.params.data=IOL.objectExtend({doc_type:"undefined"==typeof this.evnt.doc_types[this.params.data.pag_id]?0:this.evnt.doc_types[this.params.data.pag_id],ref_host:this.evnt.getHostFromUrl(document.referrer),ref_path:this.evnt.getPathFromUrl(document.referrer),source:document.location.hash.replace(/^#+/,""),attrs:[]},this.params.data),IOL.Analytics.Utils.documentReady(this.run.bind(this)))},run:function(a){a=IOL.objectExtend({debug:this.params.debug,offset:this.params.offset,polling:this.params.polling},a||{}),this.addBoxView({debug:a.debug}),this.addClick({debug:a.debug}),this._sqm=new IOL.Analytics.Utils.SimpleQueueManager({debug:a.debug,observer:!0,offset:a.offset,selector:this.params.view_selector,triggerEvents:!0,eventName:"iat-sqm-dequeue-evnt",polling:a.polling}),a.debug&&this.loadCSS({id:"iat-debug-css",text:".iat-visible { outline: 3px dotted crimson; transition: all .1s ease; }"}),this.sendPageImpression({debug:a.debug})},sendPageImpression:function(a){a=IOL.objectExtendRecursive({debug:this.params.debug,data:this.params.data},a||{});var b,c,d=/search/.test(a.data.pag_id)?"pgmp_pgnf":"pgmp",e=this.evnt.getEventUrls(d,a.data);for(a.debug&&IOL.Analytics.Utils.log(d,a.data,e,{prefix:this.params.log_prefix}),b=0,c=e.length;b<c;b++)IOL.Analytics.Utils.trackingPixel({url:e[b],debug:a.debug,addTimestampToUrl:!1})},addBoxView:function(a){a=IOL.objectExtend({debug:this.params.debug},a||{});var b=this;window.document.addEventListener("iat-sqm-dequeue-evnt",function(c){var d,e,f,g,h,i={boxes_ctr_id:[],boxes_id:[]};for(e=0,g=c.detail.data.length;e<g;e++){a.debug&&c.detail.data[e].data.classList.add("iat-visible"),d=c.detail.data[e].data.querySelectorAll(b.params.click_selector);try{var j=JSON.parse(c.detail.data[e].data.dataset.evntView);for(f=0,h=d.length;f<h;f++){var k=JSON.parse(d[f].dataset.evntClick);k.id=b.parse_id(k.id,d[f]),i.boxes_ctr_id.push([j.area,j.box,k.id].join("-")),i.boxes_id.push({area:j.area,box:j.box,doc_id:k.id})}}catch(a){}}i=IOL.objectExtend(i,b.params.data);var l=b.evnt.getEventUrls("bxmp",i);for(b.params.debug&&IOL.Analytics.Utils.log("bxmp",i,l,c.detail,{prefix:b.params.log_prefix}),e=0,g=l.length;e<g;e++)IOL.Analytics.Utils.trackingPixel({url:l[e],debug:a.debug,addTimestampToUrl:!1})})},addClick:function(){var a,b,c=this,d=document.querySelectorAll(this.params.click_selector);for(a=0,b=d.length;a<b;a++)/^form$/i.test(d[a].tagName)?d[a].addEventListener("submit",function(a){a.preventDefault(),c.click({target:a.target})}):d[a].addEventListener("click",function(a){var b=/^(a|form)$/i.test(a.target.tagName)?a.target:a.target.closest("a");void 0!==typeof b&&(a.preventDefault(),c.click({target:b}))})},click:function(a){if(a=IOL.objectExtend({debug:this.params.debug,target:void 0,data:{}},a),void 0!==typeof a.target){try{var b,c=JSON.parse(a.target.dataset.evntClick),d=a.target.closest(this.params.view_selector);a.data.dest_id=this.parse_id(c.id,a.target),a.data.link_type=c.link_type,a.data.cat1=c.cat1,a.data.cat2=c.cat2,a.data.cat3=c.cat3,"undefined"!=typeof d&&(b=JSON.parse(d.dataset.evntView),a.data.area=b.area,a.data.box=b.box),a.data.box_ctr_id=[a.data.area,a.data.box,a.data.dest_id].join("-")}catch(b){a.data=!1}if(!1!==a.data){a.data=IOL.objectExtend(a.data,this.params.data);var e,f,g=this.evnt.getEventUrls("ck",a.data);for(a.debug&&IOL.Analytics.Utils.log("ck",a.target,a.data,g,{prefix:this.params.log_prefix}),e=0,f=g.length;e<f;e++)IOL.Analytics.Utils.click(a.target,{url:g[e],debug:a.debug,addTimestampToUrl:!1})}}},parse_id:function(a,b){var c,d;return/%(pathname|href)%/.test(a)&&(d=RegExp.$1,c=IOL.Analytics.Utils.URL(b.href),"undefined"!=typeof c&&(a=a.replace(/%(pathname|href)%/g,c[d]))),a},loadCSS:function(a){a=IOL.objectExtend({document:window.document,id:"css",src:void 0,text:void 0,debug:!1},a);var b,c;"undefined"!=typeof a.src?(b=a.document.createElement("link"),b.setAttribute("type","text/css"),b.setAttribute("id",a.id),b.setAttribute("rel","stylesheet"),b.setAttribute("href",a.src)):(b=a.document.createElement("style"),b.setAttribute("type","text/css"),b.setAttribute("id",a.id),b.appendChild(a.document.createTextNode(a.text))),c=a.document.getElementsByTagName("head")[0],c.appendChild(b)}},!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Hunt=b()}(this,function(){function a(a,b){var d,e,f;return void 0===b&&(b=c),function(){!0===d?(clearTimeout(e),e=setTimeout(function(){Date.now()-f>=b&&(a.apply(this,arguments),f=Date.now())},b-(Date.now()-f))):(a.apply(this,arguments),f=Date.now(),d=!0)}}var b=function(){},c=100,d=function(a,b){for(var c in this.element=a,this.visible=!1,b)Object.hasOwnProperty.call(b,c)&&(this[c]=b[c]);if(void 0!==a.dataset){if(void 0!==a.dataset.huntPersist)try{this.persist=JSON.parse(a.dataset.huntPersist)}catch(a){}if(void 0!==a.dataset.huntOffset)try{this.offset=JSON.parse(a.dataset.huntOffset)}catch(a){}}};d.prototype.offset=0,d.prototype.persist=!1,d.prototype.enter=b,d.prototype.leave=b;var e=function(a,b){if(!(a&&1===a.nodeType||"number"==typeof a.length))throw new TypeError("hunt: observer first argument should be a node or a list of nodes");if("object"!=typeof b)throw new TypeError("hunt: observer second argument should be an object");if(1===a.nodeType)this.__huntedElements__=[new d(a,b)];else{var c=[].slice.call(a);this.__huntedElements__=c.map(function(a){return new d(a,b)})}this.__viewportHeight__=window.innerHeight,this.__connect__(b.throttleInterval)};return e.prototype.__connect__=function(b){this.__throttledHuntElements__=a(this.__huntElements__.bind(this),b),this.__throttledUpdateMetrics__=a(this.__updateMetrics__.bind(this),b),window.addEventListener("scroll",this.__throttledHuntElements__),window.addEventListener("resize",this.__throttledUpdateMetrics__),this.__huntElements__()},e.prototype.__huntElements__=function(){for(var a=this.__huntedElements__.length;a;){var c=this.__huntedElements__[--a],d=c.element.getBoundingClientRect(),e=d.top-c.offset<this.__viewportHeight__&&d.top>=-(d.height+c.offset);!1===c.visible&&!0===e&&(c.enter.call(null,c.element),c.visible=!0,c.leave===b&&!0!==c.persist&&(this.__huntedElements__.splice(a,1),0===this.__huntedElements__.length&&this.disconnect())),!0===c.visible&&!1===e&&(c.leave.call(null,c.element),c.visible=!1,!0!==c.persist&&(this.__huntedElements__.splice(a,1),0===this.__huntedElements__.length&&this.disconnect()))}},e.prototype.__updateMetrics__=function(){this.__viewportHeight__=window.innerHeight,this.__huntElements__()},e.prototype.disconnect=function(){window.removeEventListener("scroll",this.__throttledHuntElements__),window.removeEventListener("resize",this.__throttledUpdateMetrics__)},e.prototype.trigger=function(){this.__huntElements__()},e}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(a){var b=this;do{if(Element.prototype.matches.call(b,a))return b;b=b.parentElement||b.parentNode}while(null!==b&&1===b.nodeType);return null}),IOL.Analytics.Utils={URL:function(a,b){if(b=IOL.objectExtend({debug:0,fail_return_value:void 0},b||{}),"undefined"==typeof a||/^\s*$/.test(a)||"string"!=typeof a)return b.fail_return_value;if("function"!=typeof window.URL){var c=document.createElement("a");c.href=a;var d,e=IOL.Analytics.Utils.browser();return d=(e.msie||e.trident?"/":"")+c.pathname,{hash:c.hash,host:c.host,hostname:c.hostname,href:c.href,origin:c.origin,password:c.password,pathname:d,port:c.port,protocol:c.protocol,search:c.search,username:c.username}}try{return new URL(a)}catch(a){return b.debug&&IOL.Analytics.Utils.log(a,{prefix:"IAT Utils.URL"}),b.fail_return_value}},CGI:function(a){var b;if("undefined"==typeof a||"string"!=typeof a)return{};if(b=a.split(/\?/)[1],!b)return{};this._search=b;for(var c=this._search.split(/\&+/),d=0,e=c.length;d<e;d++){for(var f=c[d].split("="),g=0,h=f.length;g<h;g++)f[g]=f[g].replace(/\+/g," "),f[g]=f[g].replace(/%([a-fA-F0-9][a-fA-F0-9])/g,function(a,b){b=b.toUpperCase();for(var c="0123456789ABCDEF",d=0,e=0,f=b.length;f>0;f--)d+=c.indexOf(b.charAt(f-1))*Math.pow(16,e),e++;return String.fromCharCode(d)});this[f[0]]=f[1]}},windowSize:function(a){var b,c,d=a===!1?window:window.top;try{b=d.innerWidth||d.document.documentElement.clientWidth||d.document.body.clientWidth,c=d.innerHeight||d.document.documentElement.clientHeight||d.document.body.clientHeight}catch(a){d=window,b=d.innerWidth||d.document.documentElement.clientWidth||d.document.body.clientWidth,c=d.innerHeight||d.document.documentElement.clientHeight||d.document.body.clientHeight}return[b,c]},getScrollPosition:function(){return window.scrollY+window.innerHeight||self.scrollY+self.innerHeight||document.documentElement&&document.documentElement.scrollTop+document.documentElement.clientHeight||document.body.scrollTop+document.body.clientHeight},log:function(){var a=IOL.objectExtend({level:"log",prefix:void 0,backtrace:!1},arguments[arguments.length-1]);if("undefined"!=typeof console)try{a.prefix?console[a.level](a.prefix,arguments):console[a.level](arguments)}catch(a){}},registerEnginePlugin:function(a){return"object"!=typeof a?(IOL.Analytics.Utils.log('Plugin "'+a+'" is invalid (must be an object)'),!1):"string"!=typeof a.name?(IOL.Analytics.Utils.log('Plugin "'+a+'" is invalid (must have a name property)'),!1):IOL.Analytics.Tracking.Engine.Plugins._plugins[a.name]?(IOL.Analytics.Utils.log('Plugin "'+a.name+'" has already been registered, and cannot be overwritten'),!1):(IOL.Analytics.Tracking.Engine.Plugins._plugins[a.name]=a,!0)},unregisterEnginePlugin:function(a){return"undefined"==typeof a?(IOL.Analytics.Utils.log('Plugin name "'+a+'" has to be defined'),!1):"undefined"==typeof IOL.Analytics.Tracking.Engine.Plugins._plugins[a]?(IOL.Analytics.Utils.log('Plugin "'+a+"\" hasn't registered"),!1):delete IOL.Analytics.Tracking.Engine.Plugins._plugins[a]},getEnvironmentLevel:function(a){if(a=IOL.Analytics.Utils.URL(a||document.location.href),"undefined"==typeof a||"file:"===a.protocol)return"dev";var b=a.host.split(/\./).reverse()[2];return/^(dev|st|pp)$/.test(b)?b:"prod"},setCookie:function(){var a=IOL.objectExtend({debug:!1,name:null,value:null,date:"",path:"/",domain:null,secure:!1,escape:!0},arguments[0]),b=0;if(a.date.constructor.toString().match(/function\s+Date\(/))b=a.date;else if(a.date.constructor.toString().match(/function\s+Object\(/))if(a.date=IOL.objectExtend({day:0,hour:0,min:0,sec:0},a.date),0===a.date.day&&0===a.date.hour&&0===a.date.min&&0===a.date.sec)b=0;else{b=new Date;var c=new Date(0),d=c.getTime();d>0&&b.setTime(b.getTime()-d),b.setTime(b.getTime()+1e3*(60*(60*(24*a.date.day+a.date.hour)+a.date.min)+a.date.sec))}var e=a.name+"="+(a.escape?IOL.Analytics.Utils.escape(a.value):a.value)+(b?"; expires="+b.toGMTString():"")+(a.path?"; path="+a.path:"")+(a.domain?"; domain="+a.domain:"")+(a.secure?"; secure":"");
return a.debug&&IOL.Analytics.Utils.log(e,{prefix:"[IAT Utils.serCookie] "}),document.cookie=e,e},getCookie:function(a){var b=a+"=",c=document.cookie.indexOf(b);if(c!==-1){var d=document.cookie.indexOf(";",c+b.length);return d===-1&&(d=document.cookie.length),IOL.Analytics.Utils.unescape(document.cookie.substring(c+b.length,d))}},deleteCookie:function(){var a=IOL.objectExtend({name:null,path:"/",domain:null},arguments[0]);IOL.Analytics.Utils.getCookie(a.name)&&IOL.Analytics.Utils.setCookie({name:a.name,value:"",date:new Date(0),path:a.path,domain:a.domain})},triggerEvent:function(a,b,c){if("string"!=typeof a||"undefined"==typeof document.createEvent)return!1;var d;if(c||"function"!=typeof CustomEvent&&"object"!=typeof CustomEvent)d=document.createEvent("Event"),d.initEvent(a,!0,!0);else try{d=new CustomEvent(a,{bubbles:!0,cancelable:!0,detail:b})}catch(c){d=document.createEvent("CustomEvent"),d.initCustomEvent(a,!0,!0,b)}return window.document.dispatchEvent(d)},trackingPixel:function(){var a=IOL.objectExtend({debug:0,timeout:2,url:void 0,onLoadHandler:void 0,addTimestampToUrl:!0,logPrefix:"[IAT] ",triggerEvents:!1},arguments[0]);if("undefined"==typeof a.url||"string"!=typeof a.url)return!1;var b=new Image;if("function"==typeof a.onLoadHandler){a.debug&&IOL.Analytics.Utils.log("Adding onload handler",{prefix:a.logPrefix});var c=window.setTimeout(function(){d(c,"timeout")},1e3*a.timeout),d=function(c,d){try{window.clearTimeout(c)}catch(a){console.log(a)}b.onload=b.onerror=function(){},a.onLoadHandler({type:d,url:a.url}),a.triggerEvents&&IOL.Analytics.Utils.triggerEvent("iat-pixel-done",{type:d,url:a.url})};b.onload=function(){d(c,"success")},b.onerror=function(){d(c,"error")}}"undefined"!=typeof a.url&&"string"==typeof a.url&&(b.src=a.url+(a.addTimestampToUrl===!0?(/\?/.test(a.url)?"&":"?")+"_t="+ +new Date:""),a.debug&&IOL.Analytics.Utils.log("Making direct call to "+b.src,{prefix:a.logPrefix}))},click:function(){var a,b=0,c={};"object"==typeof arguments[0]&&"A"===arguments[0].tagName?(c=arguments[0],"string"==typeof c.href&&(a=c.target?function(){window.open(c.href,c.target,c.getAttribute("data-window-features"))}:function(){document.location.href=c.href},b=1)):"object"==typeof arguments[0]&&"FORM"===arguments[0].tagName?(c=arguments[0],a=function(){c.target&&window.open(null,c.target,c.getAttribute("data-window-features")),c.submit()},b=1):b=0;var d=IOL.objectExtend({debug:0,timeout:2,url:void 0,onLoadHandler:a,addTimestampToUrl:!0,logPrefix:"[IAT] ",triggerEvents:!1},arguments[b]||{});IOL.Analytics.Utils.trackingPixel(d)},browser:function(a){var b=(a||navigator.userAgent).toLowerCase(),c=/(edge)[ \/]([\w.]+)/.exec(b)||/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(b)||b.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[],d={browser:c[1]||"",version:c[2]||"0"},e={isMobile:/iphone|ipod|android|blackberry|opera|mini|windows\s*(ce|phone)|palm|smartphone|iemobile/i.test(b),isTablet:/ipad|android|xoom|sch-i800|playbook|tablet|kindle/i.test(b),timezone:"",language:""};return e.isDesktop=!(e.mobileSafari||e.isMobile||e.isTablet),d.browser&&(e[d.browser]=!0,e.version=d.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),e.mobileSafari=e.isMobile&&"undefined"!=typeof e.safari&&e.safari,"undefined"!=typeof navigator.languages&&navigator.languages.length>0?e.userLanguage=navigator.languages[0]:"undefined"!=typeof navigator.userLanguage&&(e.userLanguage=navigator.userLanguage),"undefined"!=typeof navigator.language?e.language=navigator.language:"undefined"!=typeof navigator.browserLanguage&&(e.language=navigator.browserLanguage),e.userLanguage="undefined"==typeof e.userLanguage?e.language:e.userLanguage,e},loadJS:function(){var a=IOL.objectExtend({id:"js",ajax:!1,write:!1,writeOpen:!0,writeClose:!0,async:!0,text:null,onLoadHandler:null,document:window.document},arguments[0]),b=a.document.createElement("script");if(b.setAttribute("type","text/javascript"),b.setAttribute("id",a.id),a.async&&b.setAttribute("async",!0),"undefined"!=typeof a.src){if(a.write)return a.writeOpen&&a.document.open(),a.document.write(IOL.Analytics.Utils.unescape('%3Cscript type="text/javascript" src="'+a.src+'" id="'+a.id+'"%3E%3C/script%3E')),a.writeClose&&a.document.close(),void("function"==typeof a.onLoadHandler&&a.onLoadHandler());b.src=a.src,"function"==typeof a.onLoadHandler&&(b.readyState?b.onreadystatechange=function(){"loaded"!==b.readyState&&"complete"!==b.readyState||(b.onreadystatechange=null,a.onLoadHandler())}:b.onload=b.onerror=function(){a.onLoadHandler()})}if(a.text){if(a.write)return a.writeOpen&&a.document.open(),a.document.write(IOL.Analytics.Utils.unescape('%3Cscript type="text/javascript" id="'+a.id+'"%3E'+a.text+"%3C/script%3E")),a.writeClose&&a.document.close(),void("function"==typeof a.onLoadHandler&&a.onLoadHandler());b.text=a.text}(a.document.getElementsByTagName("head")[0]||a.document.getElementsByTagName("body")[0]).appendChild(b)},isRegExp:function(){var a=IOL.objectExtend({regex:void 0,debug:!1,logPrefix:"[IAT Utils.isRegExp] "},arguments[0]);if("undefined"==typeof a.regex)return!1;if("RegExp"!==a.regex.constructor.name)try{a.regex=new RegExp(a.regex)}catch(b){return a.debug&&IOL.Analytics.Utils.log(b,{prefix:a.logPrefix}),b}return a.debug&&IOL.Analytics.Utils.log(a.regex,{prefix:a.logPrefix}),!0},stringToObject:function(a,b){b=b||"object";for(var c=a.split("."),d=window||this,e=0,f=c.length;e<f;e++)d=d[c[e]];if(typeof d!==b)throw new Error(b+" not found: "+a);return d},cleanURL:function(){var a,b=IOL.objectExtend({debug:0,url:document.location.href,protocol:!0,search:!0,hash:!0,pathname:!0,sortSearch:!1,searchParamsToRemove:[],logPrefix:"[IAT Utils.isRegExp] "},arguments[0]),c=IOL.Analytics.Utils.URL(b.url)||{};b.debug&&IOL.Analytics.Utils.log(c,{prefix:b.logPrefix});var d={};if(b.search&&c.search){var e=new IOL.Analytics.Utils.CGI(c.search);if(b.sortSearch&&(e=IOL.Analytics.Utils.sortObjectByKey({obj:e})),a=b.searchParamsToRemove.length){c.search="?";for(var f in e)e.hasOwnProperty(f)&&(/^_(search)/.test(f)||(b.searchParamsToRemove.indexOf(f)===-1?c.search+=(c.search&&"?"!==c.search?"&":"")+f+("undefined"!=typeof e[f]?"="+IOL.Analytics.Utils.escape(e[f]):""):d[f]=e[f]))}}var g=(b.protocol?c.protocol+"//":"")+c.hostname+(c.port&&!/^(0|80|443)$/.test(c.port)?":"+c.port:"")+(b.pathname?c.pathname:"")+(b.search&&c.search?c.search:"")+(b.hash&&c.hash?c.hash:"");return{url:g,removedSearchParams:d}},escape:"function"==typeof encodeURIComponent?encodeURIComponent:window.escape,unescape:"function"==typeof decodeURIComponent?decodeURIComponent:window.unescape,sortObjectByKey:function(){var a=IOL.objectExtend({obj:{},debug:!1,asc:!0,logPrefix:"[IAT Utils.sortObjectByKey] "},arguments[0]),b=[],c={};for(var d in a.obj)a.obj.hasOwnProperty(d)&&b.push(d);b.sort(),a.asc||b.reverse();for(var e=0,f=b.length;e<f;e++)c[b[e]]=a.obj[b[e]];return c},getObjectKeys:function(){var a=IOL.objectExtend({obj:{},debug:!1,skipEmpty:!1},arguments[0]),b=[];for(var c in a.obj)!a.obj.hasOwnProperty(c)||a.skipEmpty&&"undefined"==typeof a.obj[c]||b.push(c);return b},isObjectEmpty:function(a){return"undefined"==typeof a||"[object Object]"!==Object.prototype.toString.call(a)||"{}"===JSON.stringify(a)},uniqueId:function(){var a,b,c,d=IOL.objectExtend({debug:!1,logPrefix:"[IAT Utils.uniqueID] ",number:8,addTimestamp:!0},arguments[0]);return d.number=Math.floor(d.number),isNaN(d.number)&&(d.number=8),b=Math.pow(10,d.number-1),a=Math.pow(10,d.number),c=Math.floor(Math.random()*(a-b))+b,(d.addTimestamp===!0?Math.round(+new Date/1e3):"")+""+c},buildQueryStringFromObject:function(a){if(a=IOL.objectExtend({debug:!1,prefix:"_",strip_ampersand:!1},a||{}),"object"!=typeof a.obj)return"";var b="";for(var c in a.obj)a.obj.hasOwnProperty(c)&&"undefined"!=typeof a.obj[c]&&null!==a.obj[c]&&(b+="&"+a.prefix+c+"="+IOL.Analytics.Utils.escape(a.obj[c]));return a.strip_ampersand&&(b=b.replace(/^&+|&+$/g,"")),b},documentReady:function(a){var b="complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll;return"function"==typeof a&&(!0===b?a():document.addEventListener("DOMContentLoaded",a)),b},SimpleQueueManager:function(){var a=IOL.objectExtend({debug:!1,bucket:10,selector:"[data-evnt-view]",triggerEvents:!1,eventName:"iat-sqm-dequeue",polling:2e3,autostart:!0,observer:!1,offset:0},arguments[0]),b=[],c="SQM",d=!1,e=this;a.debug&&IOL.Analytics.Utils.log("init",a,{prefix:c}),this.queue=function(){return b},this.enqueue=function(f){f=IOL.objectExtend({debug:a.debug,data:null,bucket:a.bucket,callback:void 0},f||{}),f.debug&&IOL.Analytics.Utils.log("enqueue",b.length,f,{prefix:c}),b.push({data:f.data,callback:f.callback}),!0===a.autostart&&(e.dequeue({bucket:f.bucket}),!1===d&&e.start({debug:f.debug}))},this.dequeue=function(d){if(d=IOL.objectExtend({debug:a.debug,bucket:a.bucket,max:void 0},d||{}),"undefined"==typeof d.max&&(d.max=d.bucket),b.length>d.max){var f=b.splice(0,d.bucket);d.debug&&IOL.Analytics.Utils.log("dequeue",b.length,f,{prefix:c}),!0===a.triggerEvents&&IOL.Analytics.Utils.triggerEvent(a.eventName,{selector:a.selector,data:f})}!0===a.autostart&&0===b.length&&e.stop({debug:d.debug})},this.start=function(b){b=IOL.objectExtend({debug:a.debug},b||{}),!1===d&&(b.debug&&IOL.Analytics.Utils.log("set interval",{prefix:c}),d=setInterval(e.dequeue,a.polling,{max:0}))},this.stop=function(b){b=IOL.objectExtend({debug:a.debug},b||{}),b.debug&&IOL.Analytics.Utils.log("clear interval",{prefix:c}),clearInterval(d),d=!1},this.observer=function(b){b=IOL.objectExtend({debug:a.debug,selector:a.selector},b||{});new Hunt(document.querySelectorAll(b.selector),{enter:function(a){e.enqueue({data:a})},persist:!1,offset:a.offset})},!0===a.observer&&this.observer()},eval:function(a){a=IOL.objectExtend({debug:0,expr:""},a||{});var b,c,d,e=a.expr.split(".");if("string"==typeof a.expr){for(c=0,d=e.length;c<d;c++)if(/^([a-zA-Z_$][a-zA-Z_0-9]*)(?:\[((["'])((?:\\\3|(?:(?!\3).))+)\3|\d+)\])?$/.test(e[c])&&(b=""!==RegExp.$4?0===c?window[RegExp.$1][RegExp.$4]:b[RegExp.$1][RegExp.$4]:""!==RegExp.$2?0===c?window[RegExp.$1][RegExp.$2]:b[RegExp.$1][RegExp.$2]:0===c?window[RegExp.$1]:b[RegExp.$1]),"undefined"==typeof b)return;return"function"==typeof b?b():b}}},IOL.Analytics.Utils.registerEnginePlugin(new IOL.Analytics.Tracking.Engine.Plugins.WebTrekk),IOL.Analytics.Utils.registerEnginePlugin(new IOL.Analytics.Tracking.Engine.Plugins.Comscore),IOL.Analytics.Utils.registerEnginePlugin(new IOL.Analytics.Tracking.Engine.Plugins.Evnt),IOL.Analytics.Utils.triggerEvent("iat-loaded"),function(){var a,b=document.getElementById(window.IolAnalyticsObject+"-engine"),c=function(){try{if("undefined"!=typeof window.IolAnalyticsObject){var a,b=window[window.IolAnalyticsObject].q;if(window[window.IolAnalyticsObject]=new IOL.Analytics.Tracking.Engine({}),"undefined"!=typeof b&&b.constructor===Array)for(;void 0!==(a=b.shift());)window[window.IolAnalyticsObject].log("args",a),window[window.IolAnalyticsObject].send(a[0])}}catch(a){}};b&&(a=(b.src||"").split(/#/)[1])?IOL.Analytics.Utils.loadJS({src:a,onLoadHandler:c}):c()}();